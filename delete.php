<?php
// Получаем значение параметра "id" из URL. Это идентификатор заметки, которую нужно удалить.
$id = $_GET["id"];

// Устанавливаем соединение с базой данных MySQL.
$mysqli = new mysqli("localhost", "root", "", "notes");

// Проверяем, удалось ли установить соединение. Если нет, выводится сообщение об ошибке и завершается выполнение скрипта.
if ($mysqli->connect_error) {
    die("Ошибка подключения к базе данных: " . $mysqli->connect_error);
}

// SQL-запрос для удаления заметки с заданным идентификатором.
$stmt = $mysqli->prepare("DELETE FROM notes WHERE id = ?");

// Привязываем значение переменной $id к подготовленному запросу. "i" указывает, что это целочисленное значение.
$stmt->bind_param("i", $id);

// Выполняем подготовленный запрос для удаления заметки.
$stmt->execute();

// Закрываем подготовленный запрос.
$stmt->close();

// Завершаем соединение с базой данных.
$mysqli->close();

// После успешного удаления заметки система перенаправляет пользователя на главную страницу.
header("Location: index.php");
exit; // Выаолнение скрипта завершено.
?>
